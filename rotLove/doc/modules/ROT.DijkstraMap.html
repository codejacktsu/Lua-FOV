<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>rotLove Reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-40653955-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>rotLove</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/ROT.Color.html">Color</a></li>
  <li><strong>DijkstraMap</strong></li>
  <li><a href="../modules/ROT.Display.html">Display</a></li>
  <li><a href="../modules/ROT.EventQueue.html">EventQueue</a></li>
  <li><a href="../modules/ROT.FOV.Bresenham.html">FOV.Bresenham</a></li>
  <li><a href="../modules/ROT.FOV.Precise.html">FOV.Precise</a></li>
  <li><a href="../modules/ROT.Lighting.html">Lighting</a></li>
  <li><a href="../modules/ROT.Map.Arena.html">Map.Arena</a></li>
  <li><a href="../modules/ROT.Map.Brogue.html">Map.Brogue</a></li>
  <li><a href="../modules/ROT.Map.BrogueRoom.html">Map.BrogueRoom</a></li>
  <li><a href="../modules/ROT.Map.Cellular.html">Map.Cellular</a></li>
  <li><a href="../modules/ROT.Map.Corridor.html">Map.Corridor</a></li>
  <li><a href="../modules/ROT.Map.Digger.html">Map.Digger</a></li>
  <li><a href="../modules/ROT.Map.DividedMaze.html">Map.DividedMaze</a></li>
  <li><a href="../modules/ROT.Map.Dungeon.html">Map.Dungeon</a></li>
  <li><a href="../modules/ROT.Map.EllerMaze.html">Map.EllerMaze</a></li>
  <li><a href="../modules/ROT.Map.IceyMaze.html">Map.IceyMaze</a></li>
  <li><a href="../modules/ROT.Map.Rogue.html">Map.Rogue</a></li>
  <li><a href="../modules/ROT.Map.Room.html">Map.Room</a></li>
  <li><a href="../modules/ROT.Map.Uniform.html">Map.Uniform</a></li>
  <li><a href="../modules/ROT.Noise.Simplex.html">Noise.Simplex</a></li>
  <li><a href="../modules/ROT.Path.AStar.html">Path.AStar</a></li>
  <li><a href="../modules/ROT.Path.Dijkstra.html">Path.Dijkstra</a></li>
  <li><a href="../modules/ROT.RNG.html">RNG</a></li>
  <li><a href="../modules/ROT.RNG.LCG.html">RNG.LCG</a></li>
  <li><a href="../modules/ROT.RNG.MWC.html">RNG.MWC</a></li>
  <li><a href="../modules/ROT.RNG.Twister.html">RNG.Twister</a></li>
  <li><a href="../modules/ROT.Scheduler.html">Scheduler</a></li>
  <li><a href="../modules/ROT.Scheduler.Action.html">Scheduler.Action</a></li>
  <li><a href="../modules/ROT.Scheduler.Simple.html">Scheduler.Simple</a></li>
  <li><a href="../modules/ROT.Scheduler.Speed.html">Scheduler.Speed</a></li>
  <li><a href="../modules/ROT.StringGenerator.html">StringGenerator</a></li>
  <li><a href="../modules/ROT.TextDisplay.html">TextDisplay</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>ROT.DijkstraMap</code></h1>

<p>DijkstraMap Pathfinding.</p>
<p>
 Based on the DijkstraMap Article on RogueBasin, http://roguebasin.roguelikedevelopment.org/index.php?title=The_Incredible_Power_of_Dijkstra_Maps</p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#DijkstraMap:__init">DijkstraMap:__init (goalX, goalY, mapWidth, mapHeight, passableCallback)</a></td>
	<td class="summary">Constructor.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DijkstraMap:compute">DijkstraMap:compute ()</a></td>
	<td class="summary">Establish values for all cells in map.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DijkstraMap:addGoal">DijkstraMap:addGoal (gx, gy)</a></td>
	<td class="summary">Add new goal position.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DijkstraMap:removeGoals">DijkstraMap:removeGoals ([gx=nil[, gy=nil]])</a></td>
	<td class="summary">Remove all goals.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DijkstraMap:writeMapToConsole">DijkstraMap:writeMapToConsole (returnString)</a></td>
	<td class="summary">Output map values to console.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DijkstraMap:getWidth">DijkstraMap:getWidth ()</a></td>
	<td class="summary">Get Width of map.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DijkstraMap:getHeight">DijkstraMap:getHeight ()</a></td>
	<td class="summary">Get Height of map.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DijkstraMap:getDimensions">DijkstraMap:getDimensions ()</a></td>
	<td class="summary">Get Dimensions as table.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DijkstraMap:getMap">DijkstraMap:getMap ()</a></td>
	<td class="summary">Get the map table.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DijkstraMap:getGoalX">DijkstraMap:getGoalX ()</a></td>
	<td class="summary">Get the x-value of the goal cell.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DijkstraMap:getGoalY">DijkstraMap:getGoalY ()</a></td>
	<td class="summary">Get the y-value of the goal cell.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DijkstraMap:getGoal">DijkstraMap:getGoal ()</a></td>
	<td class="summary">Get the goal cell as a table.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DijkstraMap:dirTowardsGoal">DijkstraMap:dirTowardsGoal (x, y)</a></td>
	<td class="summary">Get the direction of the goal from a given position</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DijkstraMap:iterateThroughMap">DijkstraMap:iterateThroughMap (callback)</a></td>
	<td class="summary">Run a callback function on every cell in the map</td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Functions"></a>Functions</h2>
    <dl class="function">
    <dt>
    <a name = "DijkstraMap:__init"></a>
    <strong>DijkstraMap:__init (goalX, goalY, mapWidth, mapHeight, passableCallback)</strong>
    </dt>
    <dd>
    Constructor.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">goalX</span>
            <span class="types"><span class="type">int</span></span>
         x-position of cell that map will 'roll down' to
        </li>
        <li><span class="parameter">goalY</span>
            <span class="types"><span class="type">int</span></span>
         y-position of cell that map will 'roll down' to
        </li>
        <li><span class="parameter">mapWidth</span>
            <span class="types"><span class="type">int</span></span>
         width of the map
        </li>
        <li><span class="parameter">mapHeight</span>
            <span class="types"><span class="type">int</span></span>
         height of the map
        </li>
        <li><span class="parameter">passableCallback</span>
            <span class="types"><span class="type">function</span></span>
         a function with two parameters (x, y) that returns true if a map cell is passable
        </li>
    </ul>





</dd>
    <dt>
    <a name = "DijkstraMap:compute"></a>
    <strong>DijkstraMap:compute ()</strong>
    </dt>
    <dd>
    Establish values for all cells in map.
 call after ROT.DijkstraMap:new(goalX, goalY, mapWidth, mapHeight, passableCallback)






</dd>
    <dt>
    <a name = "DijkstraMap:addGoal"></a>
    <strong>DijkstraMap:addGoal (gx, gy)</strong>
    </dt>
    <dd>
    Add new goal position.
 Inserts a new cell to be used as a goal.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">gx</span>
            <span class="types"><span class="type">int</span></span>
         the new x-value of the goal cell
        </li>
        <li><span class="parameter">gy</span>
            <span class="types"><span class="type">int</span></span>
         the new y-value of the goal cell
        </li>
    </ul>





</dd>
    <dt>
    <a name = "DijkstraMap:removeGoals"></a>
    <strong>DijkstraMap:removeGoals ([gx=nil[, gy=nil]])</strong>
    </dt>
    <dd>
    Remove all goals.
 Will delete all goal cells. You must insert another goal before computing.
 You can specify one goal to be inserted after the goal remove takes place.
 The method only checks that the coordinates are provided before setting the new goal cell.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">gx</span>
            <span class="types"><span class="type">int</span></span>
         Will use this value as the x-coordinate of a new goal cell to be inserted
         (<em>default</em> nil)
        </li>
        <li><span class="parameter">gy</span>
            <span class="types"><span class="type">int</span></span>
         Will use this value as the y-coordinate of a new goal cell to be inserted
         (<em>default</em> nil)
        </li>
    </ul>





</dd>
    <dt>
    <a name = "DijkstraMap:writeMapToConsole"></a>
    <strong>DijkstraMap:writeMapToConsole (returnString)</strong>
    </dt>
    <dd>
    Output map values to console.
 For debugging, will send a comma separated output of cell values to the console.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">returnString</span>
            <span class="types"><span class="type">boolean[opt=false]</span></span>
         Will return the output in addition to sending it to console if true.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "DijkstraMap:getWidth"></a>
    <strong>DijkstraMap:getWidth ()</strong>
    </dt>
    <dd>
    Get Width of map.


    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        w width of map
    </ol>




</dd>
    <dt>
    <a name = "DijkstraMap:getHeight"></a>
    <strong>DijkstraMap:getHeight ()</strong>
    </dt>
    <dd>
    Get Height of map.


    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        h height of map
    </ol>




</dd>
    <dt>
    <a name = "DijkstraMap:getDimensions"></a>
    <strong>DijkstraMap:getDimensions ()</strong>
    </dt>
    <dd>
    Get Dimensions as table.


    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
        dimensions A table of width and height values</li>
        <li>
           <span class="types"><span class="type">int</span></span>
        dimensions.w width of map</li>
        <li>
           <span class="types"><span class="type">int</span></span>
        dimensions.h height of map</li>
    </ol>




</dd>
    <dt>
    <a name = "DijkstraMap:getMap"></a>
    <strong>DijkstraMap:getMap ()</strong>
    </dt>
    <dd>
    Get the map table.


    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
        map A 2d array of map values, access like map[x][y]
    </ol>




</dd>
    <dt>
    <a name = "DijkstraMap:getGoalX"></a>
    <strong>DijkstraMap:getGoalX ()</strong>
    </dt>
    <dd>
    Get the x-value of the goal cell.


    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        x x-value of goal cell
    </ol>




</dd>
    <dt>
    <a name = "DijkstraMap:getGoalY"></a>
    <strong>DijkstraMap:getGoalY ()</strong>
    </dt>
    <dd>
    Get the y-value of the goal cell.


    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        y y-value of goal cell
    </ol>




</dd>
    <dt>
    <a name = "DijkstraMap:getGoal"></a>
    <strong>DijkstraMap:getGoal ()</strong>
    </dt>
    <dd>
    Get the goal cell as a table.


    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
        goal table containing goal position</li>
        <li>
           <span class="types"><span class="type">int</span></span>
        goal.x x-value of goal cell</li>
    </ol>




</dd>
    <dt>
    <a name = "DijkstraMap:dirTowardsGoal"></a>
    <strong>DijkstraMap:dirTowardsGoal (x, y)</strong>
    </dt>
    <dd>
    Get the direction of the goal from a given position

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
            <span class="types"><span class="type">int</span></span>
         x-value of current position
        </li>
        <li><span class="parameter">y</span>
            <span class="types"><span class="type">int</span></span>
         y-value of current position
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">int</span></span>
        xDir X-Direction towards goal. Either -1, 0, or 1</li>
        <li>
           <span class="types"><span class="type">int</span></span>
        yDir Y-Direction towards goal. Either -1, 0, or 1</li>
    </ol>




</dd>
    <dt>
    <a name = "DijkstraMap:iterateThroughMap"></a>
    <strong>DijkstraMap:iterateThroughMap (callback)</strong>
    </dt>
    <dd>
    Run a callback function on every cell in the map

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">callback</span>
            <span class="types"><span class="type">function</span></span>
         A function with x and y parameters that will be run on every cell in the map
        </li>
    </ul>





</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
</div> <!-- id="container" -->
</body>
</html>
